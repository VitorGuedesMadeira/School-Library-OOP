require_relative './person_class'
require_relative './student_class'
require_relative './teacher_class'
require_relative './book_class'
require_relative './rental_class'
require_relative './user_options'
require_relative './save_files'

class App
  attr_reader :books, :people, :rentals

  def initialize
    @books = []
    @people = []
    @rentals = []
  end

  def run
    @books = SaveFiles.read_books
    @people = SaveFiles.read_people
    @rentals = SaveFiles.read_rentals
    options = UserOptions.new
    puts "\nWelcome to School Library App!"
    keep_loop = true
    while keep_loop
      options.user_options
      print 'Answer: '
      choice = gets.chomp
      choosing_answers(choice)
    end
  end

  def choosing_answers(choice)
    case choice
    when '1'
      @people << Person.create_person
    when '2'
      @books << Book.create_book
    when '3'
      @rentals << Rental.create_rental(@books, @people)
    when '4'
      Person.list_people(@people)
    when '5'
      Book.list_books(@books)
    when '6'
      Rental.list_all_rentals(@rentals)
    when '7'
      Rental.list_individual_rental(@rentals, @people)
    when '8'
      Student.list_all_students(@people)
    when '9'

      Teacher.list_all_teachers(@people)
    when '10'
      SaveFiles.write_books(@books)
      SaveFiles.write_people(@people)
      SaveFiles.write_rentals(@rentals)
      puts '      ////////////////////////////////////////////////////////////////////////////////
      ////////////////////////////////////////////////////////////////////////////////
      ////////////////////////////////////////////////////////////////////////////////
      /////////////////////////////@&&@@&&%#//////////////////////////////////////////
      ///////////////////%@@&&&&%%%%&&%&&&&&&&&&//////////////////////////////////////
      /////////////////&&&%#((((((((##%&&%%&%&&&&&(///////////////////////////////////
      ///////////////#%(//*************((%&%%%&%%&&&////////////**////////////////////
      //////////////&(//*****,,,,,,,,,,**/(#%%%%%%%%%%//////////,,//////***///////////
      /////////////%(/*****,,,,,,,,,,,,,,*/(#%%%%%%%%%#///////(*,,////*,,*////////////
      ////////////&(//****,,,,,,,,,,,,,,,,*/#%%%%%%%%%%////////,.,///*,,*/////////////
      ///////////#&%%#/****,,,,,,,,,,,,,,,*/#%#%%%%%%%%%//////*,.,//*..,////*,,(//////
      ///////////&%#((((/****/(###(/*,,,,**/#%#%%%%%%%%%/////*,..,*,..,/////,,*///////
      ///////////&&%(#%#/,,,**///**********//(*,,......,////*,,.,*,..,*///,,,*(///////
      ///////////&%(((//,,,,,**//(###/***,,,,***/((//*,...*.,,*,,,...**,...,/(////////
      ///////////%//*//,,,,,,,,,,*,,,,,,**,,*(%%%%%%%(*,,..,,**,,,,,,...,,/(//////////
      //////////##////*,,,,***,,,,,.,,,,*/****#%%%%%%%%*,,,,**,,....,,*/(/////////////
      //////////%%(//((/(((//***,,,,,,***/*,,,,#%%%%%%#/*,,***,....,/(////////////////
      //////////%&%(((/***,,,,,*/******////*,...,,,.......,*,,.....*(/////////////////
      //////////%&&%#((((//******///////((((*,,...........*,......,///////////////////
      //////////%&&&&##%%%##((((#//////(((((#(**,........,,......,*///////////////////
      //////////%&&&&&#((((////***////(((((####/*,......,,.......,,///////////////////
      //////////(&&&&&&#(//////***////((((######/,,....,,.........,///////////////////
      ///////////&&&&&&%###((//**////((##((((##%#/***,*,,.........,///////////////////
      ///////////&&&&&&&%(///**//(((#(((///((###%#(/**//*.....    ..,*////////////////
      ///////////&&&&&&&&&&&%%%%##(((//////(((((####(***,.            ,**/////////////
      ////////(##&&&&&&&&&&&&&&#((((///////((((((((*,..                .,,**//////////
      ////////###&&&&&&&&&&&&&%#(////////////##(((##/,.                 ,,,,,*////////
      ///////(##%&&&&&&&&&&&&%#((///////////####/(##(*.                  .,,,,,**/////
      ///////&@@&&&&&&&&&&&%#((///*/////////(###(###/**.                  .,,,,,,*////
      //////##&@&&&&&&&&&&%#((////*////*////####(###/*,,.                  .,,,,,,,*//'
      exit
    else
      puts 'Please insert a valid number!'
    end
  end
end
